import React, { useState, useEffect } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { ShoppingCart } from "lucide-react";

// Produtos para exibição
const products = [
  { id: 1, name: "Hidratante Facial", price: 89.90, image: "https://example.com/hidratante.jpg", category: "Cuidados com a Pele" },
  { id: 2, name: "Sérum Anti-Idade", price: 129.90, image: "https://example.com/serum.jpg", category: "Cuidados com a Pele" },
  { id: 3, name: "Protetor Solar FPS 50", price: 99.90, image: "https://example.com/protetor.jpg", category: "Proteção Solar" },
  { id: 4, name: "Água Micelar", price: 49.90, image: "https://example.com/agua-micelar.jpg", category: "Cuidados com a Pele" },
  { id: 5, name: "Gel de Limpeza Facial", price: 59.90, image: "https://example.com/gel-limpeza.jpg", category: "Limpeza Facial" },
  { id: 6, name: "Máscara Facial Detox", price: 79.90, image: "https://example.com/mascara-detox.jpg", category: "Cuidados com a Pele" }
];

export default function AdrieleStore() {
  // Estado para filtros e carrinho
  const [searchQuery, setSearchQuery] = useState("");
  const [minPrice, setMinPrice] = useState(0);
  const [maxPrice, setMaxPrice] = useState(150);
  const [category, setCategory] = useState("Todos");
  const [cart, setCart] = useState([]);
  const [sortedProducts, setSortedProducts] = useState([]);
  const [sortOption, setSortOption] = useState("default");
  const [visibleProducts, setVisibleProducts] = useState(3); // Controla quantos produtos mostrar

  // Função para filtrar os produtos
  const filterProducts = () => {
    let filteredProducts = products.filter(product => {
      const matchesSearch = product.name.toLowerCase().includes(searchQuery.toLowerCase());
      const matchesPrice = product.price >= minPrice && product.price <= maxPrice;
      const matchesCategory = category === "Todos" || product.category === category;
      return matchesSearch && matchesPrice && matchesCategory;
    });

    // Ordenar os produtos de acordo com a opção de ordenação
    if (sortOption === "priceAsc") {
      filteredProducts = filteredProducts.sort((a, b) => a.price - b.price);
    } else if (sortOption === "priceDesc") {
      filteredProducts = filteredProducts.sort((a, b) => b.price - a.price);
    }

    return filteredProducts;
  };

  // Função para adicionar ao carrinho
  const addToCart = (product) => {
    setCart([...cart, product]);
  };

  // Total de itens no carrinho
  const getCartCount = () => {
    return cart.length;
  };

  // Função para carregar mais produtos (scroll infinito)
  const loadMoreProducts = () => {
    setVisibleProducts(visibleProducts + 3); // Carrega 3 produtos por vez
  };

  // Atualiza os produtos filtrados e ordenados sempre que houver mudanças
  useEffect(() => {
    setSortedProducts(filterProducts());
  }, [searchQuery, minPrice, maxPrice, category, sortOption]);

  return (
    <div className="container mx-auto p-4 min-h-screen bg-gradient-to-r from-pink-300 to-pink-700">
      <h1 className="text-3xl font-bold text-center mb-6 text-white">Adriele Store</h1>
      <p className="text-center text-white mb-4">Contato: contato@
